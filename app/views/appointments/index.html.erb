<% content_for :page_title do %>
  <h2>Appointments List</h2><hr>
<% end %>

<div>
  <% if @appointments.empty? %>
    <h3>No appointments have been scheduled.</h3>
  <% else %>
    <div class="appointments-table" %>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Date</th>
            <th width="20%">Time</th>
            <th width="35%">Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        <% @appointments.each do |appointment| %>
          <tr>
            <td width="30%">
              <%= link_to edit_appointment_path(appointment.id), class: "edit-appointment" do %>
                <i class="glyphicon glyphicon-pencil"></i>
              <% end %>
              <%= link_to cancel_appointment_path(appointment.id, tab: "patient-appointments" ), class: "cancel-appointment", method: :patch do %>
                <i class="glyphicon glyphicon-remove"></i>
              <% end %>
              <%= "#{appointment.format_date}" %>
            </td>
            <td width="15%"><%= appointment.format_time %></td>
            <td width="15%"><%= appointment.status %></td>
            <td width="30%"><%= link_to "Delete", appointment_path(appointment.id), method: :delete, class: "btn btn-danger" %>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</div>